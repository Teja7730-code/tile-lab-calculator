<!DOCTYPE html>
<html>
<head>
  <title>Tile Lab Calculator</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background: radial-gradient(circle at top left,#1e293b,#0f172a 60%);
      color: white;
      margin: 0;
      padding: 20px;
      text-align: center;
    }

    h2 {
      font-weight: 600;
      letter-spacing: 1px;
    }

    .card {
      background: rgba(255,255,255,0.08);
      backdrop-filter: blur(20px);
      -webkit-backdrop-filter: blur(20px);
      border-radius: 25px;
      padding: 25px;
      margin: 20px auto;
      max-width: 420px;
      box-shadow:
        0 8px 32px rgba(0,0,0,0.6),
        inset 0 0 15px rgba(255,255,255,0.05);
      transition: transform 0.3s ease;
    }

    .card:hover {
      transform: translateY(-5px);
    }

    input {
      width: 90%;
      padding: 14px;
      margin: 10px;
      border-radius: 15px;
      border: none;
      background: rgba(255,255,255,0.12);
      color: white;
      font-size: 16px;
      outline: none;
      box-shadow: inset 0 2px 6px rgba(0,0,0,0.5);
    }

    input::placeholder {
      color: rgba(255,255,255,0.6);
    }

    button {
      padding: 14px 22px;
      border-radius: 20px;
      border: none;
      margin: 10px;
      font-weight: 600;
      font-size: 15px;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .primary {
      background: linear-gradient(145deg,#22c55e,#16a34a);
      box-shadow: 0 4px 15px rgba(34,197,94,0.5);
      color: white;
    }

    .primary:hover {
      box-shadow: 0 6px 20px rgba(34,197,94,0.8);
      transform: translateY(-2px);
    }

    .secondary {
      background: linear-gradient(145deg,#3b82f6,#1d4ed8);
      box-shadow: 0 4px 15px rgba(59,130,246,0.5);
      color: white;
    }

    .secondary:hover {
      box-shadow: 0 6px 20px rgba(59,130,246,0.8);
      transform: translateY(-2px);
    }

    .danger {
      background: linear-gradient(145deg,#ef4444,#b91c1c);
      box-shadow: 0 4px 15px rgba(239,68,68,0.5);
      color: white;
    }

    .danger:hover {
      box-shadow: 0 6px 20px rgba(239,68,68,0.8);
      transform: translateY(-2px);
    }

    .result {
      font-size: 26px;
      font-weight: bold;
      margin-top: 18px;
      color: #facc15;
      text-shadow: 0 0 12px rgba(250,204,21,0.8);
    }

    .hidden {
      display: none;
    }
  </style>
</head>

<body>

<h2>Tile Lab Calculator</h2>

<!-- LOGIN -->
<div id="loginDiv">
  <div class="card">
    <input type="email" id="email" placeholder="Email">
    <input type="password" id="password" placeholder="Password">
    <button class="primary" onclick="login()">Login</button>
    <button class="secondary" onclick="signup()">Sign Up</button>
  </div>
</div>

<!-- DASHBOARD -->
<div id="dashboard" class="hidden">
  <div class="card">
    <button class="secondary" onclick="showCalc('wa')">Water Absorption</button>
    <button class="secondary" onclick="showCalc('bd')">Bulk Density</button>
    <button class="secondary" onclick="showCalc('mor')">MOR</button>
    <button class="secondary" onclick="showCalc('bs')">Breaking Strength</button>
    <br>
    <button class="danger" onclick="logout()">Logout</button>
  </div>
</div>

<!-- WATER ABSORPTION -->
<div id="wa" class="hidden">
  <div class="card">
    <h3>Water Absorption (%)</h3>
    <input type="number" id="wa_w1" placeholder="Dry Weight (W1)">
    <input type="number" id="wa_w2" placeholder="Wet Weight (W2)">
    <button class="primary" onclick="calcWA()">Calculate</button>
    <div class="result" id="wa_result"></div>
    <button onclick="back()">Back</button>
  </div>
</div>

<!-- BULK DENSITY -->
<div id="bd" class="hidden">
  <div class="card">
    <h3>Bulk Density (g/cm³)</h3>
    <input type="number" id="bd_w1" placeholder="Dry Weight (W1)">
    <input type="number" id="bd_w2" placeholder="Suspended Weight (W2)">
    <input type="number" id="bd_w3" placeholder="Saturated Weight (W3)">
    <button class="primary" onclick="calcBD()">Calculate</button>
    <div class="result" id="bd_result"></div>
    <button onclick="back()">Back</button>
  </div>
</div>

<!-- MOR -->
<div id="mor" class="hidden">
  <div class="card">
    <h3>MOR (N/mm²)</h3>
    <input type="number" id="mor_f" placeholder="Load (F)">
    <input type="number" id="mor_l" placeholder="Span (L)">
    <input type="number" id="mor_b" placeholder="Width (b)">
    <input type="number" id="mor_d" placeholder="Thickness (d)">
    <button class="primary" onclick="calcMOR()">Calculate</button>
    <div class="result" id="mor_result"></div>
    <button onclick="back()">Back</button>
  </div>
</div>

<!-- BREAKING STRENGTH -->
<div id="bs" class="hidden">
  <div class="card">
    <h3>Breaking Strength (N)</h3>
    <input type="number" id="bs_f" placeholder="Load (F)">
    <input type="number" id="bs_l" placeholder="Span (L)">
    <input type="number" id="bs_b" placeholder="Width (b)">
    <button class="primary" onclick="calcBS()">Calculate</button>
    <div class="result" id="bs_result"></div>
    <button onclick="back()">Back</button>
  </div>
</div>

<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/12.9.0/firebase-app.js";
  import { getAuth, signInWithEmailAndPassword, createUserWithEmailAndPassword, signOut, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/12.9.0/firebase-auth.js";

  const firebaseConfig = {
    apiKey: "AIzaSyBUUqKaKs9-vDaAoWE2UorKD90SoQe-iMA",
    authDomain: "tiles-a850f.firebaseapp.com",
    projectId: "tiles-a850f",
    storageBucket: "tiles-a850f.firebasestorage.app",
    messagingSenderId: "1070603762129",
    appId: "1:1070603762129:web:7cd3889cbad403320d8f0"
  };

  const app = initializeApp(firebaseConfig);
  const auth = getAuth(app);

  window.login = () => signInWithEmailAndPassword(auth,email.value,password.value).catch(e=>alert(e.message));
  window.signup = () => createUserWithEmailAndPassword(auth,email.value,password.value).catch(e=>alert(e.message));
  window.logout = () => signOut(auth);

  onAuthStateChanged(auth,user=>{
    if(user){ loginDiv.classList.add("hidden"); dashboard.classList.remove("hidden"); }
    else{ loginDiv.classList.remove("hidden"); dashboard.classList.add("hidden"); }
  });

  window.showCalc = id => {
    dashboard.classList.add("hidden");
    document.getElementById(id).classList.remove("hidden");
  };

  window.back = () => {
    document.querySelectorAll("#wa,#bd,#mor,#bs").forEach(el=>el.classList.add("hidden"));
    dashboard.classList.remove("hidden");
  };

  window.calcWA = () => {
    let w1=parseFloat(wa_w1.value), w2=parseFloat(wa_w2.value);
    wa_result.innerHTML=((w2-w1)/w1*100).toFixed(2)+" %";
  };

  window.calcBD = () => {
    let w1=parseFloat(bd_w1.value), w2=parseFloat(bd_w2.value), w3=parseFloat(bd_w3.value);
    bd_result.innerHTML=(w1/(w3-w2)).toFixed(3)+" g/cm³";
  };

  window.calcMOR = () => {
    let f=parseFloat(mor_f.value), l=parseFloat(mor_l.value), b=parseFloat(mor_b.value), d=parseFloat(mor_d.value);
    mor_result.innerHTML=((3*f*l)/(2*b*d*d)).toFixed(2)+" N/mm²";
  };

  window.calcBS = () => {
    let f=parseFloat(bs_f.value), l=parseFloat(bs_l.value), b=parseFloat(bs_b.value);
    bs_result.innerHTML=((f*l)/b).toFixed(2)+" N";
  };
</script>

</body>
</html>
